{"version":3,"sources":["assets/logo.svg","services/api.js","pages/Main/index.js","components/ListItem/index.js","pages/Box/index.js","components/FolderItem/index.js","components/FloatActionButton/index.js","pages/Boxes/index.js","routes.js","App.js","index.js"],"names":["module","exports","__webpack_require__","p","api","axios","create","baseURL","Main","state","newBox","handleSubmit","_callee","e","response","regenerator_default","a","wrap","_context","prev","next","preventDefault","post","title","_this","sent","props","history","push","concat","data","_id","stop","handleInputChange","setState","target","value","react_default","createElement","id","onSubmit","this","src","logo","alt","type","placeholder","onChange","Component","ListItem","key","file","className","href","url","md","size","color","distanceInWords","createdAt","Date","locale","pt","Box","box","subscribeToNewFiles","match","params","io","socket","defaults","emit","on","Object","objectSpread","files","toConsumableArray","handleUpload","forEach","FormData","append","get","es","onDropAccepted","_ref","getRootProps","getInputProps","assign","map","components_ListItem","FolderItem","folder","onClick","length","FloatActionButton","Boxes","boxes","_this2","components_FolderItem","components_FloatActionButton","Routes","react_router_dom","react_router","path","component","exact","App","routes","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.159443b5.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.87f18662.svg\";","import axios from 'axios'\r\n\r\nconst api = axios.create({\r\n    baseURL: 'https://rpc1910-omnistack.herokuapp.com/',\r\n})\r\n\r\nexport default api","import React, { Component } from 'react'\r\nimport api from './../../services/api'\r\n\r\nimport './styles.css'\r\nimport logo from './../../assets/logo.svg'\r\n\r\nexport default class Main extends Component {\r\n    state = {\r\n        newBox: ''\r\n    }\r\n\r\n    handleSubmit = async (e) => {\r\n        e.preventDefault()\r\n\r\n        const response = await api.post('/boxes', {\r\n            title: this.state.newBox\r\n        })\r\n\r\n        this.props.history.push(`/box/${response.data._id}`)\r\n    }\r\n\r\n    handleInputChange = e => {\r\n        this.setState({\r\n            newBox: e.target.value\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div id=\"main-container\">\r\n                <form onSubmit={ this.handleSubmit }>\r\n                    <img src={logo} alt=\"Dropbox\" />\r\n                    <input \r\n                        type=\"text\"\r\n                        placeholder=\"Criar um box\"\r\n                        value={this.state.newBox}\r\n                        onChange={this.handleInputChange}\r\n                    />\r\n                    <button type=\"submit\">Criar</button>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from 'react';\r\nimport { MdInsertDriveFile } from 'react-icons/md'\r\nimport { distanceInWords } from 'date-fns'\r\nimport pt from 'date-fns/locale/pt'\r\n\r\nimport './style.css'\r\n\r\nconst ListItem = props => (\r\n    <li key={props.file._id}>\r\n        <a className=\"fileInfo\" href={props.file.url} target=\"_blank\">\r\n            <MdInsertDriveFile size={24} color=\"#a5cfff\" />\r\n            <strong>{props.file.title}</strong>\r\n        </a>\r\n        <span>há {distanceInWords(props.file.createdAt, new Date(), { locale: pt })}</span>\r\n    </li>\r\n)\r\n\r\nexport default ListItem\r\n","import React, { Component } from 'react';\r\nimport Dropzone from 'react-dropzone'\r\nimport socket from 'socket.io-client'\r\n\r\nimport api from './../../services/api'\r\n\r\nimport './styles.css'\r\nimport logo from './../../assets/logo.svg'\r\n\r\nimport ListItem from './../../components/ListItem'\r\n\r\nexport default class Box extends Component {\r\n\tstate = {\r\n\t\tbox: {}\r\n\t}\r\n\r\n\tasync componentDidMount() {\r\n\t\tthis.subscribeToNewFiles()\r\n\r\n\t\tconst box = this.props.match.params.id\r\n\t\tconst response = await api.get(`/boxes/${box}`)\r\n\r\n\t\tthis.setState({\r\n\t\t\tbox: response.data\r\n\t\t})\r\n\t}\r\n\r\n\tsubscribeToNewFiles = () => {\r\n\t\tconst box = this.props.match.params.id\r\n\t\tconst io = socket(api.defaults.baseURL)\r\n\r\n\t\tio.emit('connectRoom', box)\r\n\r\n\t\tio.on('file', data => {\r\n\t\t\tthis.setState({\r\n\t\t\t\tbox: {...this.state.box, files: [...this.state.box.files, data]}\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n\r\n\thandleUpload = (files) => {\r\n\t\tfiles.forEach(file => {\r\n\t\t\tconst data = new FormData()\r\n\t\t\tdata.append('file', file)\r\n\r\n\t\t\tconst box = this.props.match.params.id\r\n\t\t\tapi.post(`/boxes/${box}/files`, data)\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { files } = this.state.box\r\n\r\n\t\treturn (\r\n\t\t\t<div id=\"box-container\">\r\n\t\t\t\t<header>\r\n\t\t\t\t\t<a href=\"/\"><img src={logo} alt=\"Dropbox\" /></a>\r\n\t\t\t\t\t<h1>{this.state.box.title}</h1>\r\n\t\t\t\t</header>\r\n\r\n\t\t\t\t<Dropzone onDropAccepted={this.handleUpload}>\r\n\t\t\t\t\t{ ({ getRootProps, getInputProps }) => (\r\n\t\t\t\t\t\t<div className=\"upload\" {...getRootProps()}>\r\n\t\t\t\t\t\t\t<input {...getInputProps()}/>\r\n\t\t\t\t\t\t\t<p>Arraste arquivos ou clique aqui</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Dropzone>\r\n\r\n\t\t\t\t<ul>\r\n\t\t\t\t\t{ files && files.map(file => (\r\n\t\t\t\t\t\t<ListItem key={file._id} file={file} />\r\n\t\t\t\t\t)) }\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n    \t);\r\n\t}\r\n}\r\n","import React from 'react';\r\nimport { MdFolder } from 'react-icons/md'\r\nimport { distanceInWords } from 'date-fns'\r\nimport pt from 'date-fns/locale/pt'\r\n\r\nimport './style.css'\r\n\r\nconst FolderItem = props => (\r\n    <li key={props.folder._id}>\r\n        <a className=\"fileInfo\" onClick={ props.onClick }>\r\n            <MdFolder size={24} color=\"#a5cfff\" />\r\n            <span>{props.folder.files.length}</span>\r\n            <strong>{props.folder.title}</strong>\r\n        </a>\r\n        <span>há {distanceInWords(props.folder.createdAt, new Date(), { locale: pt })}</span>\r\n    </li>\r\n)\r\n\r\nexport default FolderItem\r\n","import React from 'react'\r\nimport { MdAdd } from 'react-icons/md'\r\n\r\nimport './styles.css'\r\n\r\nconst FloatActionButton = props => (\r\n    <div className=\"float-action-button\">\r\n        <a onClick={ props.onClick } title=\"Criar pasta\">\r\n            <MdAdd size={32} color=\"#fff\" />\r\n        </a>\r\n    </div>\r\n)\r\n\r\nexport default FloatActionButton","import React, { Component } from 'react';\r\nimport api from './../../services/api'\r\nimport logo from './../../assets/logo.svg'\r\n\r\nimport FolderItem from './../../components/FolderItem'\r\nimport FloatActionButton from './../../components/FloatActionButton'\r\n\r\nexport default class Boxes extends Component {\r\n    state = {\r\n        boxes: []\r\n    }\r\n\r\n    async componentDidMount() {\r\n        const response = await api.get('/boxes')\r\n\r\n        this.setState({\r\n            boxes: response.data\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const { boxes } = this.state\r\n        return (\r\n            <div id=\"box-container\">\r\n                <header>\r\n                    <a href=\"/\"><img src={logo} alt=\"Dropbox\" /></a>\r\n                    <h1>Todas as pastas</h1>\r\n                </header>\r\n\r\n                <ul>\r\n                    {boxes && boxes.map( box => <FolderItem key={box._id} folder={box} onClick={() => this.props.history.push(`/box/${box._id}`)} /> ) }\r\n                </ul>\r\n\r\n                <FloatActionButton onClick={ () => this.props.history.push('/create') } />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React from 'react'\r\nimport { BrowserRouter, Route, Switch } from 'react-router-dom'\r\n\r\nimport Main from './pages/Main'\r\nimport Box from './pages/Box'\r\nimport Boxes from './pages/Boxes'\r\n\r\nconst Routes = () => (\r\n    <BrowserRouter>\r\n        <Switch>\r\n            <Route path=\"/\" component={Boxes} exact />\r\n            <Route path=\"/create\" component={Main} exact />\r\n            <Route path=\"/box/:id\" component={Box} />\r\n        </Switch>\r\n    </BrowserRouter>\r\n);\r\n\r\nexport default Routes","import React from 'react';\nimport './App.css';\n\nimport Routes from './routes'\n\n\nconst App = () => <Routes />\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}