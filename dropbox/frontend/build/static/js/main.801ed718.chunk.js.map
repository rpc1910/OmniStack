{"version":3,"sources":["services/api.js","pages/Main/index.js","pages/Box/index.js","routes.js","App.js","index.js","assets/logo.svg"],"names":["api","axios","create","baseURL","Main","state","newBox","handleSubmit","_callee","e","response","regenerator_default","a","wrap","_context","prev","next","preventDefault","post","title","_this","sent","props","history","push","concat","data","_id","stop","handleInputChange","setState","target","value","react_default","createElement","id","onSubmit","this","src","logo","alt","type","placeholder","onChange","Component","Box","box","subscribeToNewFiles","match","params","io","socket","defaults","emit","on","Object","objectSpread","files","toConsumableArray","handleUpload","forEach","file","FormData","append","get","es","onDropAccepted","_ref","getRootProps","getInputProps","assign","className","map","key","href","url","md","size","color","distanceInWords","createdAt","Date","locale","pt","Routes","react_router_dom","react_router","path","component","exact","App","routes","ReactDOM","render","src_App_0","document","getElementById","module","exports","__webpack_require__","p"],"mappings":"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","file":"static/js/main.801ed718.chunk.js","sourcesContent":["import axios from 'axios'\r\n\r\nconst api = axios.create({\r\n    baseURL: 'https://rpc1910-omnistack.herokuapp.com/',\r\n})\r\n\r\nexport default api","import React, { Component } from 'react'\r\nimport api from './../../services/api'\r\n\r\nimport './styles.css'\r\nimport logo from './../../assets/logo.svg'\r\n\r\nexport default class Main extends Component {\r\n    state = {\r\n        newBox: ''\r\n    }\r\n\r\n    handleSubmit = async (e) => {\r\n        e.preventDefault()\r\n\r\n        const response = await api.post('/boxes', {\r\n            title: this.state.newBox\r\n        })\r\n\r\n        this.props.history.push(`/box/${response.data._id}`)\r\n    }\r\n\r\n    handleInputChange = e => {\r\n        this.setState({\r\n            newBox: e.target.value\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div id=\"main-container\">\r\n                <form onSubmit={ this.handleSubmit }>\r\n                    <img src={logo} alt=\"Dropbox\" />\r\n                    <input \r\n                        type=\"text\"\r\n                        placeholder=\"Criar um box\"\r\n                        value={this.state.newBox}\r\n                        onChange={this.handleInputChange}\r\n                    />\r\n                    <button type=\"submit\">Criar</button>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { MdInsertDriveFile } from 'react-icons/md'\r\nimport { distanceInWords } from 'date-fns'\r\nimport pt from 'date-fns/locale/pt'\r\nimport Dropzone from 'react-dropzone'\r\nimport socket from 'socket.io-client'\r\n\r\nimport api from './../../services/api'\r\n\r\nimport './styles.css'\r\nimport logo from './../../assets/logo.svg'\r\n\r\nexport default class Box extends Component {\r\n\tstate = {\r\n\t\tbox: {}\r\n\t}\r\n\r\n\tasync componentDidMount() {\r\n\t\tthis.subscribeToNewFiles()\r\n\r\n\t\tconst box = this.props.match.params.id\r\n\t\tconst response = await api.get(`/boxes/${box}`)\r\n\r\n\t\tthis.setState({\r\n\t\t\tbox: response.data\r\n\t\t})\r\n\t}\r\n\r\n\tsubscribeToNewFiles = () => {\r\n\t\tconst box = this.props.match.params.id\r\n\t\tconst io = socket(api.defaults.baseURL)\r\n\r\n\t\tio.emit('connectRoom', box)\r\n\r\n\t\tio.on('file', data => {\r\n\t\t\tthis.setState({\r\n\t\t\t\tbox: {...this.state.box, files: [...this.state.box.files, data]}\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n\r\n\thandleUpload = (files) => {\r\n\t\tfiles.forEach(file => {\r\n\t\t\tconst data = new FormData()\r\n\t\t\tdata.append('file', file)\r\n\r\n\t\t\tconst box = this.props.match.params.id\r\n\t\t\tapi.post(`/boxes/${box}/files`, data)\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { files } = this.state.box\r\n\r\n\t\treturn (\r\n\t\t\t<div id=\"box-container\">\r\n\t\t\t\t<header>\r\n\t\t\t\t\t<img src={logo} alt=\"Dropbox\"/>\r\n\t\t\t\t\t<h1>{this.state.box.title}</h1>\r\n\t\t\t\t</header>\r\n\r\n\t\t\t\t<Dropzone onDropAccepted={this.handleUpload}>\r\n\t\t\t\t\t{ ({ getRootProps, getInputProps }) => (\r\n\t\t\t\t\t\t<div className=\"upload\" {...getRootProps()}>\r\n\t\t\t\t\t\t\t<input {...getInputProps()}/>\r\n\t\t\t\t\t\t\t<p>Arraste arquivos ou clique aqui</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Dropzone>\r\n\r\n\t\t\t\t<ul>\r\n\t\t\t\t\t{ files && files.map(file => (\r\n\t\t\t\t\t\t<li key={file._id}>\r\n\t\t\t\t\t\t\t<a className=\"fileInfo\" href={file.url} target=\"_blank\">\r\n\t\t\t\t\t\t\t\t<MdInsertDriveFile size={24} color=\"#a5cfff\" />\r\n\t\t\t\t\t\t\t\t<strong>{ file.title }</strong>\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t<span>h√° {distanceInWords(file.createdAt, new Date(), { locale: pt }) }</span>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t)) }\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n    \t);\r\n\t}\r\n}\r\n","import React from 'react'\r\nimport { BrowserRouter, Route, Switch } from 'react-router-dom'\r\n\r\nimport Main from './pages/Main'\r\nimport Box from './pages/Box'\r\n\r\nconst Routes = () => (\r\n    <BrowserRouter>\r\n        <Switch>\r\n            <Route path=\"/\" component={Main} exact />\r\n            <Route path=\"/box/:id\" component={Box} />\r\n        </Switch>\r\n    </BrowserRouter>\r\n);\r\n\r\nexport default Routes","import React from 'react';\nimport './App.css';\n\nimport Routes from './routes'\n\n\nconst App = () => <Routes />\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));","module.exports = __webpack_public_path__ + \"static/media/logo.87f18662.svg\";"],"sourceRoot":""}